<html>
  <head>
    <title>Aleatoric note spammer</title>
    <script src="https://unpkg.com/@webcomponents/webcomponentsjs@^2/webcomponents-bundle.js"></script>
    <script src="https://unpkg.com/tone"></script>
    <script src="https://unpkg.com/@tonejs/ui"></script>
  </head>

  <body>
    <button id='play' onclick="playing = !playing"></button>

    <br><br>
    <i>Yoinked / adapted from the <a href="https://tonejs.github.io/">Tone.js docs</a></i>

    <script>
      var synth = new Tone.FMSynth().toMaster()
      playing = false

      var update = function() {
        if(playing) {
          var rnd = Math.random() * 2600 + 50
          synth.triggerAttackRelease(rnd, '16n', "+0", 0.5)
        }
        document.querySelector('#play').textContent = playing ? "Stop" : "Play"
        window.setTimeout(update, 400)
      }

      update()
    </script>
  </body>
</html>
